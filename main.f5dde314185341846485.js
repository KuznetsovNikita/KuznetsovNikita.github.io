!function(t){var e={};function n(i){if(e[i])return e[i].exports;var r=e[i]={i:i,l:!1,exports:{}};return t[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)n.d(i,r,function(e){return t[e]}.bind(null,r));return i},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=2)}([function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.month=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],e.days=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],e.nsu="http://www.w3.org/2000/svg"},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(0);e.toPolyline=function(t,e){var n=document.createElementNS(i.nsu,"polyline");return n.classList.add("polyline"),n.classList.add(e),n.style.stroke=t,{polyline:n,setPoints:function(t,e,i,r,a,o){for(var s=a.start,u=a.end,c=o.height,l=(c-10)/t,d=o.width/(u-s),h="",v=r.start;v<=r.end;v++)0!=v&&(h+=" "),h+=(i[v]-s)*d+","+(c-e[v]*l);n.setAttribute("points",h)}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(3),r=n(13);n(14),window.onload=function(){var t=window,e=document,n=e.documentElement,a=e.getElementsByTagName("body")[0],o=t.innerWidth||n.clientWidth||a.clientWidth,s=Math.min(o,500),u=new XMLHttpRequest;u.overrideMimeType("application/json"),u.open("GET","./chart_data.json",!0),u.onreadystatechange=function(){if(4===u.readyState&&200==u.status){var t=JSON.parse(u.responseText)[0],e=new r.DataService(s,t);i.drawContainer(e)}},u.send(null)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(4),r=n(10),a=n(11);e.drawContainer=function(t){var e=document.createElement("div");document.body.append(e),e.id="app";var n=document.createElement("div");e.appendChild(n),n.id="header",n.innerHTML="<h1>Followers</h1>",i.toChart(e,t),a.toMiniMap(e,t),r.toMenu(e,t)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(0),r=n(5),a=n(1),o=n(6),s=n(8);e.toChart=function(t,e){var n,u,c,l,d=[],h=[],v={},f=document.createElementNS(i.nsu,"svg"),m=document.createElementNS(i.nsu,"g"),p=document.createElementNS(i.nsu,"g");t.appendChild(f),f.appendChild(m),f.appendChild(p);var g=e.jsonData,b=g.columns,y=g.colors,M=e.viewport,E=M.width,C=M.height,L=e.indexRange,A=e.timeRange,x=e.viewport;f.setAttribute("width",E.toString()),f.setAttribute("height",(C+20).toString());var S=s.toTimes(p,e);n=e.toMaxVisibleValue(L),r.toLine(m,0,C,E,""),d=P(n);for(var w=1;w<b.length;w++){var R=b[w][0];D(R,n,b[w],b[0],y[R],L,A,x)}function T(t){l&&cancelAnimationFrame(l),S.redrawTimes(t);var i=e.toMaxVisibleValue(e.indexRange);0!==i&&(function(t){if(0!=t){d.forEach(function(t){t.g.classList.add("transparent"),h.push(t),setTimeout(function(){h=h.filter(function(e){return e!==t}),t.destroy()},400)});var e=P(u,"transparent");d=e,requestAnimationFrame(function(){e.forEach(function(t){return t.g.classList.remove("transparent")})})}}(c=(u=i)-n),function t(){l=requestAnimationFrame(function(){var i;i=(C-10)/n,d.forEach(function(t){return t.setHeight(C-i*t.value)}),h.forEach(function(t){return t.setHeight(C-i*t.value)});for(var r=e.indexRange,a=e.timeRange,o=1;o<b.length;o++)v[b[o][0]].setPoints(n,b[o],b[0],r,a,x);if(n!==u){for(var s=Math.abs(c),o=0;o<s*e.animationSpeed&&(n+=c/s)!==u;o++);return t()}})}())}function D(t,e,n,i,r,o,s,u){var c=a.toPolyline(r,"main-chart");f.appendChild(c.polyline),c.setPoints(e,n,i,o,s,u),v[t]=c}function P(t,n){void 0===n&&(n="");for(var i=(C-5)/t,a=10*Math.floor((t-25/i)/10),o=a/e.lines,s=[],u=o;u<=a;u+=o){var c=C-u*i;s.push(r.toLine(m,u,c,E,n))}return s}o.toPopUp(f,e,function(){return n}),e.onTimeRangeChange(function(t){T(t)}),e.onVisibilityChange(function(t){v[t].polyline.classList.toggle("transparent"),T("visible")})}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(0);e.toLine=function(t,e,n,r,a){var o=document.createElementNS(i.nsu,"g");o.classList.add("line"),a&&o.classList.add(a),c(n);var s=document.createElementNS(i.nsu,"line"),u=document.createElementNS(i.nsu,"text");function c(t){o.setAttribute("transform","translate(0,"+t+")")}return s.setAttribute("x1","5"),s.setAttribute("x2",(r-5).toString()),s.setAttribute("y1","-1"),s.setAttribute("y2","-1"),u.setAttribute("x","5"),u.setAttribute("y","-10"),u.textContent=e.toString(),o.appendChild(s),o.appendChild(u),t.appendChild(o),{g:o,value:e,setHeight:c,destroy:function(){t.removeChild(o),t=null}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(0),r=n(7);e.toPopUp=function(t,e,n){var a,o,s=null,u=e.viewport,c=u.width,l=u.height,d=e.jsonData,h=d.columns,v=d.colors,f=document.createElementNS(i.nsu,"g");t.appendChild(f),f.classList.add("pop-up"),function(){h[0];var t=h.slice(1);f.classList.add("invisible");var n=document.createElementNS(i.nsu,"line");n.classList.add("line"),n.setAttribute("y1","0"),n.setAttribute("y2",l.toString()),f.appendChild(n);var o=t.map(function(t){var e=document.createElementNS(i.nsu,"circle"),n=document.createElementNS(i.nsu,"circle");return f.appendChild(e),e.style.fill=v[t[0]],e.setAttribute("r","5"),f.appendChild(n),n.classList.add("inner-circle"),n.setAttribute("r","3"),{circle:e,innerCircle:n}});a={line:n,dots:o,block:r.toPopUpBlock(e,f)}}();var m=function(t,i){null!=o&&cancelAnimationFrame(o),o=requestAnimationFrame(function(){var r=e.indexRange,o=r.start,u=r.end,d=c/(u-o),v=o+Math.round(t/d);v!=s&&(s=v,function(t,i){var r=e.timeRange,o=r.start,s=r.end,u=h[0],d=h.slice(1),v=u[t],m=c/(s-o)*(v-o),p=m.toString();a.line.setAttribute("x1",p),a.line.setAttribute("x2",p);var g=(l-10)/n();a.dots.forEach(function(e,n){var i=d[n][t],r=l-i*g,a=r.toString();e.circle.setAttribute("cx",p),e.circle.setAttribute("cy",a),e.innerCircle.setAttribute("cx",p),e.innerCircle.setAttribute("cy",a)}),a.block.setData(v,t,m,i),f.classList.remove("invisible")}(v,i))})};function p(){f.classList.add("invisible")}function g(){t.removeEventListener("touchmove",y),p()}function b(t){m(t.offsetX,t.offsetY)}function y(t){if(1==t.targetTouches.length){t.preventDefault(),t.stopPropagation();var e=t.targetTouches[0],n=e.pageX,i=e.pageY;m(n,i)}}function M(e){if(1==e.targetTouches.length){e.preventDefault(),e.stopPropagation();var n=e.targetTouches[0],i=n.pageX,r=n.pageY;m(i,r),t.addEventListener("touchmove",y,{passive:!1})}}t.addEventListener("mousemove",b),t.addEventListener("mouseleave",p),t.addEventListener("touchstart",M,{passive:!1}),t.addEventListener("touchend",g),e.onVisibilityChange(function(t){a.dots.forEach(function(n,i){e.jsonData.columns[i+1][0]==t&&(n.circle.classList.toggle("invisible"),n.innerCircle.classList.toggle("invisible"))})}),e.onDestroy(function(){t.removeEventListener("mousemove",b),t.removeEventListener("mouseleave",p),t.removeEventListener("touchstart",M),t.removeEventListener("touchend",g),f.removeChild(a.line),a.dots.forEach(function(t){var e=t.circle,n=t.innerCircle;f.removeChild(e),f.removeChild(n)}),a=null})}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(0);e.toPopUpBlock=function(t,e){var n=document.createElementNS(i.nsu,"g"),r=document.createElementNS(i.nsu,"rect"),a=document.createElementNS(i.nsu,"rect"),o=document.createElementNS(i.nsu,"text"),s=t.jsonData,u=s.columns,c=s.colors,l=s.names,d=t.viewport,h=d.height,v=d.width,f=(u[0],u.slice(1));e.appendChild(n),n.appendChild(a),n.appendChild(r);var m=25+40*Math.ceil(f.length/2);function p(t,e){t.setAttribute("transform","translate("+(10+e%2*50)+","+(20+40*Math.floor(e/2))+")")}r.setAttribute("height",m.toString()),r.setAttribute("width","120"),r.setAttribute("rx","10"),r.setAttribute("ry","10"),r.classList.add("rect"),a.setAttribute("height",m.toString()),a.setAttribute("width","120"),a.setAttribute("x","1"),a.setAttribute("y","1"),a.setAttribute("rx","10"),a.setAttribute("ry","10"),a.classList.add("shadow"),n.appendChild(o),o.setAttribute("x","10"),o.setAttribute("y","18"),o.classList.add("date");var g=f.map(function(t,e){var r=document.createElementNS(i.nsu,"g");n.appendChild(r),p(r,e);var a=document.createElementNS(i.nsu,"text"),o=document.createElementNS(i.nsu,"text");return r.appendChild(a),r.appendChild(o),a.setAttribute("x","0"),a.setAttribute("y","20"),a.classList.add("value"),o.setAttribute("x","0"),o.setAttribute("y","38"),o.innerHTML=l[t[0]],a.style.fill=c[t[0]],o.style.fill=c[t[0]],{block:r,value:a,name:o,key:t[0]}});return t.onVisibilityChange(function(e){var i=[];g.forEach(function(n){n.key===e&&n.block.classList.toggle("invisible"),t.visibility[n.key]&&i.push(n)}),0===i.length?n.classList.add("invisible"):(n.classList.remove("invisible"),i.forEach(function(t,e){return p(t.block,e)}),m=25+40*Math.ceil(i.length/2),r.setAttribute("height",m.toString()),a.setAttribute("height",m.toString()))}),t.onDestroy(function(){e.removeChild(n),e.removeChild(r),e.removeChild(a),e.removeChild(o),g.forEach(function(t){return e.removeChild(t.block)})}),{setData:function(t,e,r,a){var s=new Date(t);o.innerHTML=i.days[s.getDay()]+", "+s.getDate()+" "+i.month[s.getMonth()],g.forEach(function(t,n){var i=f[n][e].toString();t.value.innerHTML=i.length>4?i.substr(0,i.length-3)+"k":i});var u=a>h/2?20:h-20-m,c=Math.min(Math.max(r-20,0),v-120);n.setAttribute("transform","translate("+c+","+u+")")}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(9);e.toTimes=function(t,e){var n,r,a,o=80,s=0,u=e.viewport,c=u.height,l=u.width,d=e.jsonData.columns;t.setAttribute("transform","translate(0,"+c+")");var h=new Array(d[0].length);function v(t){return null!=e.jsonData.columns[0][t]}function f(t){return e.jsonData.columns[0][t]}function m(t){return(f(t)-e.timeRange.start)*a}function p(t){h[t].destroy(),h[t]=void 0}function g(e){h[e]=i.toTime(t,f(e),m(e))}function b(t){var i=e.timeRange,o=i.start,u=i.end;a=l/(u-o),t(),function(){var t=n-s;if(v(t)&&m(t)>0)return g(t),void(n=t);if(m(n)<0)return p(n),void(n+=s);var e=r+s;if(v(e)&&m(e)<l)return g(e),void(r=e);m(r)>l&&(p(r),r-=s)}();for(var c=n;c<=r;c+=s)h[c].setLeft(m(c))}return e.onDestroy(function(){h.forEach(function(t){return t&&t.destroy()})}),function(){var t=e.indexRange,i=e.timeRange;for(a=l/(i.end-i.start),n=t.start;m(n)<20;)n++;for(var u=-1;m(n+s)<o+20;)u++,s=Math.pow(2,u);for(r=n;v(r+s)&&m(r)<=l;)r+=s;for(var c=n;c<=r;c+=s)g(c)}(),{redrawTimes:function(t){switch(t){case"left":return b(function(){!function(){if(1!==s){var t=s/2,e=r-t;if(v(e)&&(f(r)-f(e))*a>o){for(var i=0;e>=n;){var u=m(e);h[e]?u<0?p(e):i=e:u>0&&(g(e),i=e),e-=t}n=i,s=t}}}(),function(){var t=2*s,e=r-s;if(v(e)&&(f(r)-f(e))*a<o){for(var i=r,u=!1,c=0;m(i)>=0;)u?h[i]&&p(i):(h[i]||g(i),c=i),u=!u,i-=s;n=c,s=t}}()});case"right":return b(function(){!function(){if(1!==s){var t=s/2,e=n+t;if(v(e)&&(f(e)-f(n))*a>o){for(var i=0;e<=r;){var u=m(e);h[e]?u>l?p(e):i=e:u<l&&(g(e),i=e),e+=t}r=i,s=t}}}(),function(){var t=2*s,e=n+s;if(v(e)&&(f(e)-f(n))*a<o){for(var i=n,u=!1,c=0;m(i)<=l;)u?h[i]&&p(i):(h[i]||g(i),c=i),u=!u,i+=s;r=c,s=t}}()});case"move":return function(){(function t(){var e=n-s;v(e)&&m(e)>0&&(g(e),p(r),r-=s,n=e,t())})(),function t(){var e=r+s;v(e)&&m(e)<l&&(g(e),p(n),n+=s,r=e,t())}();for(var t=n;t<=r;t+=s)h[t].setLeft(m(t))}();default:return}}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(0);e.toTime=function(t,e,n){var r=document.createElementNS(i.nsu,"text"),a=document.createElementNS(i.nsu,"tspan");r.classList.add("time"),r.appendChild(a);var o=new Date(e);function s(t){a.setAttribute("x",t.toString())}return a.innerHTML=o.getDate()+" "+i.month[o.getMonth()],s(n),a.setAttribute("y","18"),a.setAttribute("text-anchor","middle"),t.appendChild(r),{value:e,setLeft:s,destroy:function(){t.removeChild(r)}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(0);function r(t,e,n,r,a){var o=document.createElement("div");return o.classList.add("checkbox"),e&&o.classList.add("as-check"),o.appendChild(function(t){var e=document.createElementNS(i.nsu,"svg");e.setAttribute("height","30"),e.setAttribute("width","30");var n=document.createElementNS(i.nsu,"circle");e.appendChild(n),n.style.fill=t,n.setAttribute("cx","15"),n.setAttribute("cy","15"),n.setAttribute("r","13");var r=document.createElementNS(i.nsu,"polyline");e.appendChild(r),r.classList.add("check-mark"),r.setAttribute("points","9,15.5 13,19.5 20,11.5");var a=document.createElementNS(i.nsu,"circle");return e.appendChild(a),a.classList.add("cover"),a.setAttribute("cx","15"),a.setAttribute("cy","15"),a.setAttribute("r","12"),e}(n)),o.innerHTML+=r,o.onclick=function(){a.toggleVisibility(t)},a.onVisibilityChange(function(e){e===t&&o.classList.toggle("as-check")}),a.onDestroy(function(){o.onclick=null}),o}e.toMenu=function(t,e){var n=document.createElement("div");for(var i in t.appendChild(n),n.id="menu",e.visibility)n.appendChild(r(i,e.visibility[i],e.jsonData.colors[i],e.jsonData.names[i],e));!function(t,e){var n,i=document.createElement("div");function r(){n=!0,document.body.classList.remove("night"),i.innerHTML="Switch to Night Mode"}t.appendChild(i),i.classList.add("mode"),r(),i.onclick=function(){n?(n=!1,document.body.classList.add("night"),i.innerHTML="Switch to Day Mode"):r()},e.onDestroy(function(){i.onclick=null,t.removeChild(i)})}(n,e),e.onDestroy(function(){t.removeChild(n)})}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(0),r=n(12),a=n(1);e.toMiniMap=function(t,e){var n=document.createElement("div");t.appendChild(n),n.id="mini-map",function(t,e){var n,r,o,s,u={},c=document.createElementNS(i.nsu,"svg");t.appendChild(c);var l=e.jsonData,d=l.columns,h=l.colors,v=e.miniMap,f=v.viewport,m=v.viewport,p=m.width,g=m.height,b=v.indexRange,y=v.timeRange,M=e.visibility;c.setAttribute("width",p.toString()),c.setAttribute("height",g.toString()),n=e.toMaxVisibleValue(e.miniMap.indexRange);for(var E=1;E<d.length;E++){var C=d[E][0];A(C,n,d[E],d[0],h[C])}function L(t){s&&cancelAnimationFrame(s);var i=e.toMaxVisibleValue(e.miniMap.indexRange);0!==i&&(o=(r=i)-n,function t(i){s=requestAnimationFrame(function(){for(var a=1;a<d.length;a++){var s=d[a][0];M[s]&&u[s].setPoints(n,d[a],d[0],b,y,f)}if(n===r)return i&&i();for(var c=Math.abs(o),a=0;a<c*e.animationSpeed&&(n+=o/c)!==r;a++);return t(i)})}(t))}function A(t,e,n,i,r){var o=a.toPolyline(r,"mini-map-chart");c.appendChild(o.polyline),o.setPoints(e,n,i,b,y,f),u[t]=o}e.onVisibilityChange(function(t,e){e?L(function(){return u[t].polyline.classList.remove("invisible")}):(u[t].polyline.classList.add("invisible"),L())}),e.onDestroy(function(){t.removeChild(c)})}(n,e),r.drawLens(n,e)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.drawLens=function(t,e){var n=document.createElement("div");t.appendChild(n),n.className="lens";var i=document.createElement("div");t.appendChild(i),i.className="cover",i.style.left="0px";var r=document.createElement("div");t.appendChild(r),r.className="cover",r.style.right="0px";var a=document.createElement("span");n.appendChild(a),a.style.left="-5px";var o=document.createElement("span");n.appendChild(o),o.style.right="-5px";var s=e.miniMap,u=s.viewport.width,c=s.timeRange,l=c.start,d=c.end,h=e.timeRange,v=u/(d-l),f=function(t){var e=Math.floor((t.end-t.start)*v),a=Math.floor((t.start-l)*v);n.style.width=e+"px",n.style.left=a+"px",i.style.width=a+"px",r.style.left=a+e+"px"};function m(t,i){var r,s=(e.timeRange.end-e.timeRange.start)*v,c=(e.timeRange.start-l)*v;function d(n){r&&cancelAnimationFrame(r),r=requestAnimationFrame(function(){return function(n){switch(t){case a:if((d=Math.min(Math.max(c+n-i,0),c+s-20))===c)return;e.setTimeRange("left",{start:Math.floor(l+d/v),end:e.timeRange.end});break;case o:var r=Math.min(u-c,Math.max(20,s+n-i));if(r===s)return;e.setTimeRange("right",{start:e.timeRange.start,end:Math.floor(l+(c+r)/v)});break;default:var d;if((d=Math.min(Math.max(c+n-i,0),u-s))===c)return;e.setTimeRange("move",{start:Math.floor(l+d/v),end:Math.floor(l+(d+s)/v)})}}(n)})}function h(t){t.stopPropagation(),t.preventDefault(),d(t.clientX)}function f(t){1==t.targetTouches.length&&(t.stopPropagation(),t.preventDefault(),d(t.targetTouches[0].clientX))}function m(){document.removeEventListener("mousemove",h),document.removeEventListener("touchmove",f),n.removeEventListener("mouseup",m),n.removeEventListener("touchend",m)}document.addEventListener("mousemove",h),document.addEventListener("touchmove",f,{passive:!1}),n.addEventListener("mouseup",m),n.addEventListener("touchend",m)}f(h),e.onTimeRangeChange(function(t,e){return f(e)}),n.addEventListener("mousedown",function(t){t.stopPropagation(),t.preventDefault(),m(t.target,t.clientX)}),n.addEventListener("touchstart",function(t){1==t.targetTouches.length&&(t.stopPropagation(),t.preventDefault(),m(t.targetTouches[0].target,t.targetTouches[0].clientX))},{passive:!1})}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){this.jsonData=e,this.animationSpeed=.15,this.lines=5,this.visibility={},this.timeChangeWatchers=[],this.visibilityWatchers=[],this.destroyWatchers=[];var n=e.columns[0];for(var i in this.timeRange={start:n[Math.max(Math.round(.8*n.length),1)],end:n[n.length-1]},this.indexRange=this.toIndexRange(this.timeRange),this.viewport={width:t,height:Math.round(.8*t)},this.miniMap={viewport:{width:t-10,height:46},indexRange:{start:1,end:n.length-1},timeRange:{start:n[1],end:n[n.length-1]}},e.names)this.visibility[i]=!0}return t.prototype.onTimeRangeChange=function(t){this.timeChangeWatchers.push(t)},t.prototype.setTimeRange=function(t,e){this.timeRange=e,this.indexRange=this.toIndexRange(e),this.timeChangeWatchers.forEach(function(n){return n(t,e)})},t.prototype.toIndexRange=function(t){for(var e=this.jsonData.columns[0],n=1;e[n]<t.start;)n++;n=Math.max(n-1,1);for(var i=e.length-1;e[i]>t.end;)i--;return{start:n,end:i=Math.min(i+1,e.length-1)}},t.prototype.toggleVisibility=function(t){var e=this;this.visibility[t]=!this.visibility[t],this.visibilityWatchers.forEach(function(n){return n(t,e.visibility[t])})},t.prototype.onVisibilityChange=function(t){this.visibilityWatchers.push(t)},t.prototype.onDestroy=function(t){this.destroyWatchers.push(t)},t.prototype.toMaxVisibleValue=function(t){for(var e=0,n=t.start,i=t.end,r=this.jsonData.columns,a=this.visibility,o=1;o<r.length;o++)if(a[r[o][0]])for(var s=n;s<=i;s++)e=Math.max(e,r[o][s]);return e},t}();e.DataService=i},function(t,e,n){}]);